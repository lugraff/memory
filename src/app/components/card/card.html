<div *ngIf="store.gameData().cards[this.id] as card" (pointerenter)="onEnter()" (pointerdown)="onDown()"
  (pointerout)="onLeave()" class="absolute hover:scale-110 hover:!z-[9999] duration-200 select-none"
  [ngStyle]="{rotate:randomRotate()+'deg', left:card.position.x+'px', top:card.position.y+'px', zIndex:card.zIndex}">

  <div *ngIf="card.open;else cardClosed" [ngStyle]="{
      backgroundColor:card.color, 
      width: card.size.x+'px', 
      height: card.size.y+'px'}"
    class="flex justify-center items-center duration-300 animate-flip border border-textB rounded-md"
    [ngClass]="animCloseStarted() && card.open ? 'scale-x-0 scale-y-125' : ''">
    <div class="w-full h-full" [ngStyle]="{
      backgroundImage: card.imgUrl, 
      backgroundSize: card.size.x+'px ' + card.size.y+'px'}">
    </div>
  </div>

  <ng-template #cardClosed>
    <div class="duration-300 animate-flip border border-textB rounded-md" [ngStyle]="{
        backgroundImage: 'url(assets/card_back_1.png)', 
        backgroundSize: card.size.x+'px ' + card.size.y+'px', 
        width: card.size.x+'px', 
        height: card.size.y+'px'}" [ngClass]="animOpenStarted() && !card.open ? 'scale-x-0 scale-y-125' : ''">
    </div>
  </ng-template>
</div>